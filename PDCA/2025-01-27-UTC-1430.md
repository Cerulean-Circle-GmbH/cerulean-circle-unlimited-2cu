[scrum.pmo/roles/OntologyAgent/process.md](../../../scrum.pmo/roles/OntologyAgent/process.md)

# PDCA Cycle 7: Synchronization Strategy for Dual-Context Architecture

**Date**: 2025-01-27 UTC 14:30
**Role**: OntologyAgent  
**Task**: Plan synchronization strategy between .md and .entry.md files

## Plan

### **Objective**
Design and document a synchronization strategy to keep .md (symlink/pages) and .entry.md (original context) files in sync when changes occur.

### **Current Dual-Context Architecture** ✅
**SUCCESSFULLY IMPLEMENTED:**
- **.md files** → Symlinks pointing to pages structure (pages navigation context)
- **.entry.md files** → Original files with original relative paths (original navigation context)  
- **29 dual entry points** created across the repository
- **Perfect navigation** working in both contexts

### **Synchronization Challenge**
**The Issue User Identified:**
> "in a next phase we need to care how to keep the scrum.md and the scrum.entry.md in sync on changes on either side...."

**Challenge Types:**
1. **Content Changes**: When content is updated in pages structure
2. **Link Changes**: When new links are added or modified
3. **Structural Changes**: When files are moved or renamed
4. **Context Consistency**: Keeping both navigation contexts functional

### **Proposed Synchronization Strategies**

#### **Strategy 1: Git Hooks (Automated)**
```bash
# Pre-commit hook to sync content changes
#!/bin/bash
# Detect changes to pages structure
# Auto-update corresponding .entry.md files
# Preserve original relative paths in .entry.md
```

#### **Strategy 2: PDCA-Based Manual Sync**
- **Plan**: Detect files that need sync using git diff
- **Do**: Execute sync script preserving context-specific paths  
- **Check**: Verify both navigation contexts work
- **Act**: Document and improve sync process

#### **Strategy 3: Script-Based Sync Tools**
```bash
# sync_dual_context.sh
# - Compare content between .md (symlink target) and .entry.md
# - Update content while preserving navigation context
# - Handle link path translation automatically
```

### **Recommended Approach**
**PDCA-Based Manual Sync (Strategy 2)** for now because:
- ✅ **Controlled**: Manual verification ensures quality
- ✅ **Context-Aware**: Preserves both navigation contexts correctly
- ✅ **Safe**: Reduces risk of automated sync breaking links
- ✅ **Learning**: Builds understanding of sync patterns

## Do

### **Phase 1: Detection Tools**
Create scripts to:
1. **Identify Modified Files**: Track changes in pages vs entry files
2. **Content Comparison**: Show differences between contexts
3. **Link Analysis**: Detect broken or inconsistent links

### **Phase 2: Sync Execution**
1. **Content Sync**: Update content while preserving link contexts
2. **Link Translation**: Convert between page-relative and original-relative paths
3. **Verification**: Test both navigation contexts after sync

### **Phase 3: Documentation**
1. **Sync Procedures**: Document manual sync workflow
2. **Troubleshooting**: Common sync issues and solutions
3. **Best Practices**: Guidelines for maintaining dual contexts

## Check

### **Success Criteria**
- ✅ **Content Consistency**: Both contexts have identical content
- ✅ **Navigation Integrity**: Links work correctly in both contexts
- ✅ **Sync Efficiency**: Minimal manual effort required
- ✅ **Error Prevention**: Clear procedures prevent sync mistakes

### **Testing Requirements**
1. **Modify Pages File**: Change content in pages structure
2. **Execute Sync**: Apply changes to corresponding .entry.md
3. **Test Navigation**: Verify both contexts work perfectly
4. **Document Process**: Record sync steps and outcomes

## Act

### **Immediate Actions Required**
1. **Create sync detection scripts** for identifying changed files
2. **Develop sync execution tools** for content and link updates
3. **Document sync procedures** in PDCA format
4. **Test sync workflow** with real changes

### **Future Enhancements**
1. **Semi-Automated Sync**: Scripts with manual verification
2. **Sync Validation**: Automated testing of navigation contexts
3. **Sync Monitoring**: Regular checks for out-of-sync files

### **Next PDCA Cycle**
**Focus**: Implement and test the sync detection and execution tools

---

## Summary

**PDCA Cycle 7 Planning Complete**: Comprehensive synchronization strategy designed for dual-context architecture. Ready for implementation and testing phase.

**User's Insight Addressed**: Proactive planning for keeping .md and .entry.md files in sync with context-aware procedures.
