[üìÅ Shift Gmbh Development](../shift-gmbh-development.md) | [üåê Page Structure GitHub](/2cu.atlassian.net/wiki/spaces/CCU/pages/400000055/time-management.md) | [üåê Page Structure local SymLink](./time-management.page.md)

# Time Management

Development Server  
[https://portal.shift-gmbh.com:38484](https://portal.shift-gmbh.com:38484)  
  
Repo URL  
[https://portal.shift-gmbh.com:38484/EAMD.ucp/](https://portal.shift-gmbh.com:38484/EAMD.ucp/woda/)

Shift Woda URL  
[https://portal.shift-gmbh.com:38484/EAMD.ucp/woda/](https://portal.shift-gmbh.com:38484/EAMD.ucp/woda/)

Git Lab  
[https://gitlab.shift-gmbh.com/SHIFT/shift-portal/personal](https://gitlab.shift-gmbh.com/SHIFT/shift-portal/personal)

```
curl --location --request GET "https://portal.shift-gmbh.com:38484/api/authenticate" --header "Content-Type: application/json" --data-raw '{"username":"login", "password":"Shift2020", "rememberMe":true}'
```

(function(){ var data = { "addon\_key":"render-Markdown", "uniqueKey":"render-Markdown\_\_markdown4718452758598086140", "key":"markdown", "moduleType":"dynamicContentMacros", "moduleLocation":"content", "cp":"/wiki", "general":"", "w":"", "h":"", "url":"https://d27i9fmzbobp10.cloudfront.net/render-markdown.html?pageId=192774145&pageVersion=15&macroHash=1c1a7082-dba2-4eb9-9bc6-a30ece133c2c&macroId=1c1a7082-dba2-4eb9-9bc6-a30ece133c2c&outputType=email&highlightStyle=&highlight=&xdm\_e=https%3A%2F%2F2cu.atlassian.net&xdm\_c=channel-render-Markdown\_\_markdown4718452758598086140&cp=%2Fwiki&xdm\_deprecated\_addon\_key\_do\_not\_use=render-Markdown&lic=none&cv=1000.0.0-9ec310e9ed61&traceId=f88eb8ca7e5d738e8bdc7c1f9cc1436a&spanId=c07814cae9e57b28&traceSampled=0", "structuredContext": "{\\"confluence\\":{\\"editor\\":{\\"version\\":\\"v2\\"},\\"macro\\":{\\"outputType\\":\\"email\\",\\"hash\\":\\"1c1a7082-dba2-4eb9-9bc6-a30ece133c2c\\",\\"id\\":\\"1c1a7082-dba2-4eb9-9bc6-a30ece133c2c\\"},\\"tracing\\":{\\"traceId\\":\\"f88eb8ca7e5d738e8bdc7c1f9cc1436a\\",\\"spanId\\":\\"c07814cae9e57b28\\",\\"sampled\\":\\"0\\"},\\"content\\":{\\"type\\":\\"page\\",\\"version\\":\\"15\\",\\"id\\":\\"192774145\\"},\\"space\\":{\\"key\\":\\"CCU\\",\\"id\\":\\"229377\\"}},\\"url\\":{\\"displayUrl\\":\\"https://2cu.atlassian.net/wiki\\"}}", "contentClassifier":"content", "productCtx":"{\\"page.id\\":\\"192774145\\",\\"macro.hash\\":\\"1c1a7082-dba2-4eb9-9bc6-a30ece133c2c\\",\\"space.key\\":\\"CCU\\",\\"tracing.sampled\\":\\"0\\",\\"page.type\\":\\"page\\",\\"content.version\\":\\"15\\",\\"page.title\\":\\"Time Management\\",\\"macro.localId\\":\\"\\",\\"macro.body\\":\\"### 1. Authenticate\\\\n\\\\ncurl --location --request POST \\'http://localhost:8081/api/authenticate\\' \\\\\\\\\\\\n--header \\'Content-Type: applicati\\",\\": = | RAW | = :\\":null,\\"space.id\\":\\"229377\\",\\"macro.truncated\\":\\"true\\",\\"content.type\\":\\"page\\",\\"output.type\\":\\"email\\",\\"page.version\\":\\"15\\",\\"macro.fragmentLocalId\\":\\"\\",\\"content.id\\":\\"192774145\\",\\"tracing.traceId\\":\\"f88eb8ca7e5d738e8bdc7c1f9cc1436a\\",\\"macro.id\\":\\"1c1a7082-dba2-4eb9-9bc6-a30ece133c2c\\",\\"tracing.spanId\\":\\"c07814cae9e57b28\\",\\"user.isExternalCollaborator\\":\\"false\\",\\"editor.version\\":\\"v2\\"}", "timeZone":"Europe/Berlin", "origin":"https://d27i9fmzbobp10.cloudfront.net", "hostOrigin":"https://2cu.atlassian.net", "sandbox":"allow-downloads allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin allow-top-navigation-by-user-activation allow-storage-access-by-user-activation", "apiMigrations": { "gdpr": true } } ; if(window.AP && window.AP.subCreate) { window.\_AP.appendConnectAddon(data); } else { require(\['ac/create'\], function(create){ create.appendConnectAddon(data); }); } // For Confluence App Analytics. This code works in conjunction with CFE's ConnectSupport.js. // Here, we add a listener to the initial HTML page that stores events if the ConnectSupport component // has not mounted yet. In CFE, we process the missed event data and disable this initial listener. const \_\_MAX\_EVENT\_ARRAY\_SIZE\_\_ = 20; const connectAppAnalytics = "ecosystem.confluence.connect.analytics"; window.connectHost && window.connectHost.onIframeEstablished((eventData) => { if (!window.\_\_CONFLUENCE\_CONNECT\_SUPPORT\_LOADED\_\_) { let events = JSON.parse(window.localStorage.getItem(connectAppAnalytics)) || \[\]; if (events.length >= \_\_MAX\_EVENT\_ARRAY\_SIZE\_\_) { events.shift(); } events.push(eventData); window.localStorage.setItem(connectAppAnalytics, JSON.stringify(events)); } }); }());

(function(){ var data = { "addon\_key":"render-Markdown", "uniqueKey":"render-Markdown\_\_markdown3007006004351937687", "key":"markdown", "moduleType":"dynamicContentMacros", "moduleLocation":"content", "cp":"/wiki", "general":"", "w":"", "h":"", "url":"https://d27i9fmzbobp10.cloudfront.net/render-markdown.html?pageId=192774145&pageVersion=15&macroHash=2bea338a-f115-4a3d-bd1e-b417434cfd25&macroId=2bea338a-f115-4a3d-bd1e-b417434cfd25&outputType=email&highlightStyle=&highlight=&xdm\_e=https%3A%2F%2F2cu.atlassian.net&xdm\_c=channel-render-Markdown\_\_markdown3007006004351937687&cp=%2Fwiki&xdm\_deprecated\_addon\_key\_do\_not\_use=render-Markdown&lic=none&cv=1000.0.0-9ec310e9ed61&traceId=b57d8a0a32e8ca49324ffbaa9ed4c81b&spanId=8fd59ee4c1a8da7f&traceSampled=0", "structuredContext": "{\\"confluence\\":{\\"editor\\":{\\"version\\":\\"v2\\"},\\"macro\\":{\\"outputType\\":\\"email\\",\\"hash\\":\\"2bea338a-f115-4a3d-bd1e-b417434cfd25\\",\\"id\\":\\"2bea338a-f115-4a3d-bd1e-b417434cfd25\\"},\\"tracing\\":{\\"traceId\\":\\"b57d8a0a32e8ca49324ffbaa9ed4c81b\\",\\"spanId\\":\\"8fd59ee4c1a8da7f\\",\\"sampled\\":\\"0\\"},\\"content\\":{\\"type\\":\\"page\\",\\"version\\":\\"15\\",\\"id\\":\\"192774145\\"},\\"space\\":{\\"key\\":\\"CCU\\",\\"id\\":\\"229377\\"}},\\"url\\":{\\"displayUrl\\":\\"https://2cu.atlassian.net/wiki\\"}}", "contentClassifier":"content", "productCtx":"{\\"page.id\\":\\"192774145\\",\\"macro.hash\\":\\"2bea338a-f115-4a3d-bd1e-b417434cfd25\\",\\"space.key\\":\\"CCU\\",\\"tracing.sampled\\":\\"0\\",\\"page.type\\":\\"page\\",\\"content.version\\":\\"15\\",\\"page.title\\":\\"Time Management\\",\\"macro.localId\\":\\"\\",\\"macro.body\\":\\"### 11. Time Overview One Day\\\\n\\\\ncurl --location --request GET \\'https://portal.shift-gmbh.com:38484/api/timebookings/byDay/2020-10\\",\\": = | RAW | = :\\":null,\\"space.id\\":\\"229377\\",\\"macro.truncated\\":\\"true\\",\\"content.type\\":\\"page\\",\\"output.type\\":\\"email\\",\\"page.version\\":\\"15\\",\\"macro.fragmentLocalId\\":\\"\\",\\"content.id\\":\\"192774145\\",\\"tracing.traceId\\":\\"b57d8a0a32e8ca49324ffbaa9ed4c81b\\",\\"macro.id\\":\\"2bea338a-f115-4a3d-bd1e-b417434cfd25\\",\\"tracing.spanId\\":\\"8fd59ee4c1a8da7f\\",\\"user.isExternalCollaborator\\":\\"false\\",\\"editor.version\\":\\"v2\\"}", "timeZone":"Europe/Berlin", "origin":"https://d27i9fmzbobp10.cloudfront.net", "hostOrigin":"https://2cu.atlassian.net", "sandbox":"allow-downloads allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin allow-top-navigation-by-user-activation allow-storage-access-by-user-activation", "apiMigrations": { "gdpr": true } } ; if(window.AP && window.AP.subCreate) { window.\_AP.appendConnectAddon(data); } else { require(\['ac/create'\], function(create){ create.appendConnectAddon(data); }); } // For Confluence App Analytics. This code works in conjunction with CFE's ConnectSupport.js. // Here, we add a listener to the initial HTML page that stores events if the ConnectSupport component // has not mounted yet. In CFE, we process the missed event data and disable this initial listener. const \_\_MAX\_EVENT\_ARRAY\_SIZE\_\_ = 20; const connectAppAnalytics = "ecosystem.confluence.connect.analytics"; window.connectHost && window.connectHost.onIframeEstablished((eventData) => { if (!window.\_\_CONFLUENCE\_CONNECT\_SUPPORT\_LOADED\_\_) { let events = JSON.parse(window.localStorage.getItem(connectAppAnalytics)) || \[\]; if (events.length >= \_\_MAX\_EVENT\_ARRAY\_SIZE\_\_) { events.shift(); } events.push(eventData); window.localStorage.setItem(connectAppAnalytics, JSON.stringify(events)); } }); }());

## Chat History

08:52  
[http://wo-da.de/](http://wo-da.de/)  
[http://structr.cerulean.it:8082/structr/](http://structr.cerulean.it:8082/structr/)  
[http://localhost:8082/structr/](http://localhost:8082/structr/)  
[https://portal.shift-gmbh.com:38484/](https://portal.shift-gmbh.com:38484/)

WODA 2.1 on ONCE 1.0.0  
[http://wo-da.de](http://wo-da.de)

Timo, 19:16  
Hi Marcel, auf dem Server kommt jetzt bei der Arbeitszeitberechnung f√ºr den Tag das folgenden beispielhafte Ergebnis:

{  
"targetTime": 8,  
"actualTime": 0.005,  
"hints": {},  
"sumOfBreaks": 0,  
"openWorkingTimeActualBooking": 0,  
"openTimeActualBreak": 0  
}

die letzten beiden Werte sind dabei die gerade offenen Buchungen.......z.B. jemand hat vor 2 Stunden die Arbeit begonnen..und seitdem keine Buchung vorgenommen...dann w√ºrde bei openWorkingTimeActualBooking 2.0 stehen

identisch verh√§lt es sich mit dem open Break..... Zeit seit der letzten ge√∂ffneten Pause wird angezeigt

Timo, 11:21  
Guten Morgen, Pankaj will von mir eine Logoutm√∂glichkeit haben......bei JWT als zustandloser Authentifizierung bin ich eigentlich der Meinung auf dem Backendserver sollte es keine Logoutfunktionalit√§t geben, sondern ...im Frontendcode...m√ºsste der Logout durch leeren der JWT Infos erfolgen

siehst Du das auch so?

12:03  
ja  
d.h. aber auch du hast keinerlei session pro user?

Timo, 12:18  
offene Zeitbuchungen befindet sich in der Datenbank.....ansonsten dient JWT f√ºr alle Information zur Authentifizierung und Authorisierung

aber die Software an sich....kennt keine Session im klassischen Sinne

13:26  
ok  
hab mir einen user account angelegt... bekomme aber keine mail...  
wie bekomme ich mein passwort?  
reset password schickt auch keine mail  
oder?

Timo, 13:29  
das ist richtig....das Thema ist gerade bei Michael und Ben die wollen ausspezifiziere wie das Verhalten sein soll

13:29  
mit Register bekomme ich es auch nicht hin  
ah. habs geschafft  
alles gut

Timo, 13:30  
wie gesagt....die wollen das Verhalten zu Ende spzifizieren......danach...muss ich dann noch etwas hinterher implementieren

13:30  
hab mich registriert und dann den account per admin aktiviert

Timo, 13:30  
hab z.B. aber noch keinen Mailserver von denen....

13:30  
das ging

Timo, 13:31  
....Rolle Employee beim Anlegen nicht vergessen

ich habe auch noch ein offenes Thema....dass der Employee...auch beim Update angelegt werden muss....sonst kannst Du keine Zeitbuchungen vornehmen

aber zumindestens f√ºr die Zeiterfassung schwebt Ben glaube ich ein Modell vor.....wo User nicht selber ihre Accunts anlegen.....sondern..ein Mitarbeiter das macht.....die k√∂nnen dann ihre Passw√∂rter √§ndern etc.

13:32  
grad im call

Timo, 13:33  
ok

9m 27s

Timo, 13:38  
"Shift2020"

{host}/api/users

{  
"activated": true,  
"email": "[michael@wirth.de](mailto:michael@wirth.de)",  
"firstName": "Michael",  
"lastName": "Wirth",  
"login": "mwirth",  
"authorities" : \["ROLE\_EMPLOYEE",  
"ROLE\_USER"\]  
}

13:41  
post

Timo, 13:41  
curl --location --request POST '[http://localhost:8080/api/users'](#)  
\--header 'Content-Type: application/json'  
\--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJST0xFX0FETUlOLFJPTEVfVVNFUiIsImV4cCI6MTYwMzU1NTAwN30.G9y8PM25AgSXMb-8NIjPNQJslwk\_FEOh-ArLNXHfy7UAmfAh9MRjwQh348dZzFKeRut98GswB1ly0FvhtNNOww'  
\--data-raw '{  
"activated": true,  
"email": "[michael@wirth.de](mailto:michael@wirth.de)",  
"firstName": "Michaelstring",  
"lastName": "string",  
"login": "mwirth",  
"authorities" : \["ROLE\_EMPLOYEE",  
"ROLE\_USER"\]  
}  
'

curl --location --request POST '[http://localhost:8080/api/account/change-password'](#)  
\--header 'Content-Type: application/json'  
\--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0MnBhc3N3b3J0IiwiYXV0aCI6IlJPTEVfRU1QTE9ZRUUsUk9MRV9VU0VSIiwiZXhwIjoxNjAzOTg4NjU0fQ.bz\_XszgJA8BJNWpj347Kx3gqyvODp2mrmCCoXnreBmO8FLwaqJeheLD4sbMaqXaJRMCg3lneMErx8Mco6LpXqQ'  
\--data-raw '{  
"currentPassword":"Shift2020",  
"newPassword":"Shift2021"  
}  
'

/api/natural-people

/api/employees

/management/health

/management/env

GET /management/audits 1147,513

GET/api/adresses537,525GET/api/activities835,225

GET/api/states210,647

GET/api/workingtimeregulations117,115

GET/api/projects245,943

GET/management/loggers121,821

GET/api/account811,751

GET/api/working-days1901,442

GET/management/configprops1217,341

GET/api/countries212,11

GET/\*\*20315,926

GET/api/employees/{id}312,746

GET/management/info1812,758

GET/api/natural-people/{id}16,969

GET/api/departments29,617

POST/api/authenticate6267,653GETroot1561,78

GET/api/natural-people310,48

GET/api/employees214,354

GET/management/health1198,438

GET/management/env164,761

GET/api/activities/{id}28,784
